# Text Generation and Prompting

## Overview
Learn how to prompt a model to generate text using the OpenAI API. Models can generate various types of text responses including code, mathematical equations, structured JSON data, and human-like prose.

## Basic Text Generation

### JavaScript Example
```javascript
import OpenAI from "openai";
const client = new OpenAI();

const response = await client.responses.create({
    model: "gpt-4o",
    input: "Write a one-sentence bedtime story about a unicorn."
});

console.log(response.output_text);
```

## Response Structure
```json
[
    {
        "id": "msg_67b73f697ba4819183a15cc17d011509",
        "type": "message",
        "role": "assistant",
        "content": [
            {
                "type": "output_text",
                "text": "Under the soft glow of the moon, Luna the unicorn danced through fields of twinkling stardust, leaving trails of dreams for every child asleep.",
                "annotations": []
            }
        ]
    }
]
```

**Important Note**: The `output` array often contains multiple items, including tool calls and reasoning tokens. Never assume the text output is at `output[0].content[0].text`.

## Message Roles and Instructions

### Using Instructions Parameter
```javascript
const response = await client.responses.create({
    model: "gpt-4o",
    instructions: "Talk like a pirate.",
    input: "Are semicolons optional in JavaScript?",
});
```

### Using Message Roles
```javascript
const response = await client.responses.create({
    model: "gpt-4o",
    input: [
        {
            role: "developer",
            content: "Talk like a pirate."
        },
        {
            role: "user",
            content: "Are semicolons optional in JavaScript?",
        },
    ],
});
```

## Role Hierarchy
| Role | Description | Priority |
|------|-------------|----------|
| developer | Instructions from app developer | Highest |
| user | Instructions from end user | Medium |
| assistant | Messages generated by model | N/A |

## Model Selection Guide

### Model Types
1. **Reasoning Models**
   - Excel at complex tasks and multi-step planning
   - Generate internal chain of thought
   - Slower and more expensive

2. **GPT Models**
   - Fast and cost-efficient
   - Highly intelligent
   - Need explicit instructions
   - Recommended default: `gpt-4o`

3. **Size Variations**
   - Large models: Better understanding, broader domain knowledge
   - Small models: Faster, cheaper, can be specialized via fine-tuning

## Prompt Engineering Guidelines

1. **Be Detailed**
   - Provide specific instructions
   - Eliminate ambiguity

2. **Use Examples**
   - Implement few-shot learning
   - Show input/output pairs

3. **For Reasoning Models**
   - Focus on goals and outcomes
   - Avoid step-by-step instructions

4. **Evaluation**
   - Create evaluations (evals)
   - Test with production-like data
   - Iterate based on results

## Important Notes
- Instructions parameter only applies to current request
- For persistent instructions across conversations, use developer messages
- Consider using structured outputs for JSON data
- Evaluate prompts with test data before production use 